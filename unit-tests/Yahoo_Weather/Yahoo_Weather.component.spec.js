'use strict';

describe('yahooWheatherMain', function () {

    // Load the module that contains the `yahooWheatherMain` component before each test
    beforeEach(module('yahoo-wheather-main'));

    // Test the controller
    describe('yahooWheatherMainController', function () {
        var $httpBackend, ctrl;

        beforeEach(inject(function ($componentController, _$httpBackend_) {
            $httpBackend = _$httpBackend_;
            $httpBackend.expectGET('Yahoo_Cities/Cities_PT.json').respond([{"cityName":"�gueda"},{"cityName":"�vora"},{"cityName":"�lhavo"},{"cityName":"�bidos"},{"cityName":"Abrantes"},{"cityName":"Aguiar da Beira"},{"cityName":"Alandroal"},{"cityName":"Albergaria-a-Velha"},{"cityName":"Albufeira"},{"cityName":"Alc�cer do Sal"},{"cityName":"Alcanena"},{"cityName":"Alcoba�a"},{"cityName":"Alcochete"},{"cityName":"Alcoutim"},{"cityName":"Alenquer"},{"cityName":"Alf�ndega da F�"},{"cityName":"Alij�"},{"cityName":"Aljezur"},{"cityName":"Aljustrel"},{"cityName":"Almada"},{"cityName":"Almeida"},{"cityName":"Almeirim"},{"cityName":"Almod�var"},{"cityName":"Alpiar�a"},{"cityName":"Alter do Ch�o"},{"cityName":"Alvai�zere"},{"cityName":"Alvito"},{"cityName":"Amadora"},{"cityName":"Amarante"},{"cityName":"Amares"},{"cityName":"Anadia"},{"cityName":"Angra do Hero�smo"},{"cityName":"Ansi�o"},{"cityName":"Arcos de Valdevez"},{"cityName":"Arganil"},{"cityName":"Armamar"},{"cityName":"Arouca"},{"cityName":"Arraiolos"},{"cityName":"Arronches"},{"cityName":"Arruda dos Vinhos"},{"cityName":"Aveiro"},{"cityName":"Avis"},{"cityName":"Azambuja"},{"cityName":"Bai�o"},{"cityName":"Barcelos"},{"cityName":"Barrancos"},{"cityName":"Barreiro"},{"cityName":"Batalha"},{"cityName":"Beja"},{"cityName":"Belmonte"},{"cityName":"Benavente"},{"cityName":"Bombarral"},{"cityName":"Borba"},{"cityName":"Boticas"},{"cityName":"Braga"},{"cityName":"Bragan�a"},{"cityName":"C�mara de Lobos"},{"cityName":"Cabeceiras de Basto"},{"cityName":"Cadaval"},{"cityName":"Caldas da Rainha"},{"cityName":"Calheta"},{"cityName":"Caminha"},{"cityName":"Campo Maior"},{"cityName":"Cantanhede"},{"cityName":"Carrazeda de Ansi�es"},{"cityName":"Carregal do Sal"},{"cityName":"Cartaxo"},{"cityName":"Cascais"},{"cityName":"Castanheira de P�ra"},{"cityName":"Castelo Branco"},{"cityName":"Castelo de Paiva"},{"cityName":"Castelo de Vide"},{"cityName":"Castro Daire"},{"cityName":"Castro Marim"},{"cityName":"Castro Verde"},{"cityName":"Celorico da Beira"},{"cityName":"Celorico de Basto"},{"cityName":"Chamusca"},{"cityName":"Chaves"},{"cityName":"Cinf�es"},{"cityName":"Coimbra"},{"cityName":"Condeixa-a-Nova"},{"cityName":"Const�ncia"},{"cityName":"Coruche"},{"cityName":"Corvo"},{"cityName":"Covilh�"},{"cityName":"Crato"},{"cityName":"Cuba"},{"cityName":"Elvas"},{"cityName":"Entroncamento"},{"cityName":"Espinho"},{"cityName":"Esposende"},{"cityName":"Estarreja"},{"cityName":"Estremoz"},{"cityName":"Fafe"},{"cityName":"Faro"},{"cityName":"Felgueiras"},{"cityName":"Ferreira do Alentejo"},{"cityName":"Ferreira do Z�zere"},{"cityName":"Figueir� dos Vinhos"},{"cityName":"Figueira da Foz"},{"cityName":"Figueira de Castelo Rodrigo"},{"cityName":"Fornos de Algodres"},{"cityName":"Freixo de Espada � Cinta"},{"cityName":"Fronteira"},{"cityName":"Funchal"},{"cityName":"Fund�o"},{"cityName":"G�is"},{"cityName":"Gavi�o"},{"cityName":"Goleg�"},{"cityName":"Gondomar"},{"cityName":"Gouveia"},{"cityName":"Gr�ndola"},{"cityName":"Guarda"},{"cityName":"Guimar�es"},{"cityName":"Horta"},{"cityName":"Idanha-a-Nova"},{"cityName":"Lagoa"},{"cityName":"Lagos"},{"cityName":"Lajes das Flores"},{"cityName":"Lajes do Pico"},{"cityName":"Lamego"},{"cityName":"Leiria"},{"cityName":"Lisboa"},{"cityName":"Loul�"},{"cityName":"Loures"},{"cityName":"Lourinh�"},{"cityName":"Lous�"},{"cityName":"Lousada"},{"cityName":"M�rtola"},{"cityName":"M�da"},{"cityName":"Ma��o"},{"cityName":"Macedo de Cavaleiros"},{"cityName":"Machico"},{"cityName":"Madalena"},{"cityName":"Mafra"},{"cityName":"Maia"},{"cityName":"Mangualde"},{"cityName":"Manteigas"},{"cityName":"Marco de Canaveses"},{"cityName":"Marinha Grande"},{"cityName":"Marv�o"},{"cityName":"Matosinhos"},{"cityName":"Mealhada"},{"cityName":"Melga�o"},{"cityName":"Mes�o Frio"},{"cityName":"Mira"},{"cityName":"Miranda do Corvo"},{"cityName":"Miranda do Douro"},{"cityName":"Mirandela"},{"cityName":"Mogadouro"},{"cityName":"Moimenta da Beira"},{"cityName":"Moita"},{"cityName":"Mon��o"},{"cityName":"Monchique"},{"cityName":"Mondim de Basto"},{"cityName":"Monforte"},{"cityName":"Montalegre"},{"cityName":"Montemor-o-Novo"},{"cityName":"Montemor-o-Velho"},{"cityName":"Montijo"},{"cityName":"Mora"},{"cityName":"Mort�gua"},{"cityName":"Mour�o"},{"cityName":"Moura"},{"cityName":"Mur�a"},{"cityName":"Murtosa"},{"cityName":"Nazar�"},{"cityName":"Nelas"},{"cityName":"Nisa"},{"cityName":"Nordeste"},{"cityName":"Odemira"},{"cityName":"Odivelas"},{"cityName":"Oeiras"},{"cityName":"Oleiros"},{"cityName":"Olh�o"},{"cityName":"Oliveira de Azem�is"},{"cityName":"Oliveira de Frades"},{"cityName":"Oliveira do Bairro"},{"cityName":"Oliveira do Hospital"},{"cityName":"Our�m"},{"cityName":"Ourique"},{"cityName":"Ovar"},{"cityName":"P�voa de Lanhoso"},{"cityName":"P�voa de Varzim"},{"cityName":"Pa�os de Ferreira"},{"cityName":"Palmela"},{"cityName":"Pampilhosa da Serra"},{"cityName":"Paredes"},{"cityName":"Paredes de Coura"},{"cityName":"Pedr�g�o Grande"},{"cityName":"Penacova"},{"cityName":"Penafiel"},{"cityName":"Penalva do Castelo"},{"cityName":"Penamacor"},{"cityName":"Penedono"},{"cityName":"Penela"},{"cityName":"Peniche"},{"cityName":"Peso da R�gua"},{"cityName":"Pinhel"},{"cityName":"Pombal"},{"cityName":"Ponta Delgada"},{"cityName":"Ponta do Sol"},{"cityName":"Ponte da Barca"},{"cityName":"Ponte de Lima"},{"cityName":"Ponte de Sor"},{"cityName":"Portalegre"},{"cityName":"Portel"},{"cityName":"Portim�o"},{"cityName":"Porto"},{"cityName":"Porto de M�s"},{"cityName":"Porto Moniz"},{"cityName":"Porto Santo"},{"cityName":"Povoa��o"},{"cityName":"Proen�a-a-Nova"},{"cityName":"Redondo"},{"cityName":"Reguengos de Monsaraz"},{"cityName":"Resende"},{"cityName":"Ribeira Brava"},{"cityName":"Ribeira de Pena"},{"cityName":"Ribeira Grande"},{"cityName":"Rio Maior"},{"cityName":"S�t�o"},{"cityName":"S�o Br�s de Alportel"},{"cityName":"S�o Jo�o da Madeira"},{"cityName":"S�o Jo�o da Pesqueira"},{"cityName":"S�o Pedro do Sul"},{"cityName":"S�o Roque do Pico"},{"cityName":"S�o Vicente"},{"cityName":"Sabrosa"},{"cityName":"Sabugal"},{"cityName":"Salvaterra de Magos"},{"cityName":"Santa Comba D�o"},{"cityName":"Santa Cruz"},{"cityName":"Santa Cruz da Graciosa"},{"cityName":"Santa Cruz das Flores"},{"cityName":"Santa Maria da Feira"},{"cityName":"Santa Marta de Penagui�o"},{"cityName":"Santana"},{"cityName":"Santar�m"},{"cityName":"Santiago do Cac�m"},{"cityName":"Santo Tirso"},{"cityName":"Sardoal"},{"cityName":"Seia"},{"cityName":"Seixal"},{"cityName":"Sernancelhe"},{"cityName":"Serpa"},{"cityName":"Sert�"},{"cityName":"Sesimbra"},{"cityName":"Set�bal"},{"cityName":"Sever do Vouga"},{"cityName":"Silves"},{"cityName":"Sines"},{"cityName":"Sintra"},{"cityName":"Sobral de Monte Agra�o"},{"cityName":"Soure"},{"cityName":"Sousel"},{"cityName":"T�bua"},{"cityName":"Tabua�o"},{"cityName":"Tarouca"},{"cityName":"Tavira"},{"cityName":"Terras de Bouro"},{"cityName":"Tomar"},{"cityName":"Tondela"},{"cityName":"Torre de Moncorvo"},{"cityName":"Torres Novas"},{"cityName":"Torres Vedras"},{"cityName":"Trancoso"},{"cityName":"Trofa"},{"cityName":"Vagos"},{"cityName":"Vale de Cambra"},{"cityName":"Valen�a"},{"cityName":"Valongo"},{"cityName":"Valpa�os"},{"cityName":"Velas"},{"cityName":"Vendas Novas"},{"cityName":"Viana do Alentejo"},{"cityName":"Viana do Castelo"},{"cityName":"Vidigueira"},{"cityName":"Vieira do Minho"},{"cityName":"Vila da Praia da Vit�ria"},{"cityName":"Vila de Rei"},{"cityName":"Vila do Bispo"},{"cityName":"Vila do Conde"},{"cityName":"Vila do Porto"},{"cityName":"Vila Flor"},{"cityName":"Vila Franca de Xira"},{"cityName":"Vila Franca do Campo"},{"cityName":"Vila Nova da Barquinha"},{"cityName":"Vila Nova de Cerveira"},{"cityName":"Vila Nova de Famalic�o"},{"cityName":"Vila Nova de Foz C�a"},{"cityName":"Vila Nova de Gaia"},{"cityName":"Vila Nova de Paiva"},{"cityName":"Vila Nova de Poiares"},{"cityName":"Vila Pouca de Aguiar"},{"cityName":"Vila Real"},{"cityName":"Vila Real de Santo Ant�nio"},{"cityName":"Vila Velha de R�d�o"},{"cityName":"Vila Verde"},{"cityName":"Vila Vi�osa"},{"cityName":"Vimioso"},{"cityName":"Vinhais"},{"cityName":"Viseu"},{"cityName":"Vizela"},{"cityName":"Vouzela"}]);

            ctrl = $componentController('yahooWheatherMain');
        }));

        it('should create a `cities` array with 306 cities fetched with `$http`', function () {

            expect(ctrl.cities).toBeUndefined();

            $httpBackend.flush();

            expect(ctrl.cities.length).toBe(306);

        });
    });
});
